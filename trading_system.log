2024-07-14T08:53:55.650+03:00  INFO 25212 --- [Trading_System] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-07-14T08:53:55.654+03:00  INFO 25212 --- [Trading_System] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@e60c516]]
2024-07-14T08:53:55.655+03:00  INFO 25212 --- [Trading_System] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-07-14T08:53:55.666+03:00  INFO 25212 --- [Trading_System] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-14T08:53:55.677+03:00  INFO 25212 --- [Trading_System] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-14T08:53:55.680+03:00  INFO 25212 --- [Trading_System] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-07-14T08:53:58.467+03:00  INFO 25228 --- [Trading_System] [main] c.e.t.TradingSystemApplication           : Starting TradingSystemApplication using Java 22.0.1 with PID 25228 (C:\Users\lanaf\Desktop\sadnafinal\trading_system\target\classes started by lanaf in C:\Users\lanaf\Desktop\sadnafinal\trading_system)
2024-07-14T08:53:58.468+03:00  INFO 25228 --- [Trading_System] [main] c.e.t.TradingSystemApplication           : No active profile set, falling back to 1 default profile: "default"
2024-07-14T08:53:58.907+03:00  INFO 25228 --- [Trading_System] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-14T08:53:58.925+03:00  INFO 25228 --- [Trading_System] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2024-07-14T08:53:59.213+03:00  INFO 25228 --- [Trading_System] [main] c.e.t.TradingSystemSpringConfiguration   : OpenCV is Loaded.
2024-07-14T08:53:59.488+03:00  INFO 25228 --- [Trading_System] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2024-07-14T08:53:59.496+03:00  INFO 25228 --- [Trading_System] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-14T08:53:59.497+03:00  INFO 25228 --- [Trading_System] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-07-14T08:53:59.538+03:00  INFO 25228 --- [Trading_System] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-07-14T08:53:59.539+03:00  INFO 25228 --- [Trading_System] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1035 ms
2024-07-14T08:53:59.665+03:00  INFO 25228 --- [Trading_System] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-14T08:53:59.707+03:00  INFO 25228 --- [Trading_System] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-07-14T08:53:59.731+03:00  INFO 25228 --- [Trading_System] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-14T08:53:59.997+03:00  INFO 25228 --- [Trading_System] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-14T08:54:00.021+03:00  INFO 25228 --- [Trading_System] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-14T08:54:00.240+03:00  INFO 25228 --- [Trading_System] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 7c5e5ed2-61fd-4fb4-a1e4-cf9b713a692a
2024-07-14T08:54:00.243+03:00  INFO 25228 --- [Trading_System] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-14T08:54:01.502+03:00  INFO 25228 --- [Trading_System] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-14T08:54:02.021+03:00  WARN 25228 --- [Trading_System] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table cart_shopping_bags alter column cart_id bigint" via JDBC [The object 'PK__cart_sho__F4DA001718D65C61' is dependent on column 'cart_id'.]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table cart_shopping_bags alter column cart_id bigint" via JDBC [The object 'PK__cart_sho__F4DA001718D65C61' is dependent on column 'cart_id'.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.5.jar:3.2.5]
	at com.example.trading_system.TradingSystemApplication.main(TradingSystemApplication.java:17) ~[classes/:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The object 'PK__cart_sho__F4DA001718D65C61' is dependent on column 'cart_id'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1676) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:907) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:802) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:775) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 38 common frames omitted

2024-07-14T08:54:02.242+03:00  WARN 25228 --- [Trading_System] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table cart_shopping_bags add constraint FKohpc1dsa51l2bwucc0f6il98l foreign key (shoppingBags_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKohpc1dsa51l2bwucc0f6il98l' does not match those of the primary key in the referenced table 'shopping_bags'.]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table cart_shopping_bags add constraint FKohpc1dsa51l2bwucc0f6il98l foreign key (shoppingBags_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKohpc1dsa51l2bwucc0f6il98l' does not match those of the primary key in the referenced table 'shopping_bags'.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.5.jar:3.2.5]
	at com.example.trading_system.TradingSystemApplication.main(TradingSystemApplication.java:17) ~[classes/:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The number of columns in the referencing column list for foreign key 'FKohpc1dsa51l2bwucc0f6il98l' does not match those of the primary key in the referenced table 'shopping_bags'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1676) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:907) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:802) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:775) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 37 common frames omitted

2024-07-14T08:54:02.245+03:00  WARN 25228 --- [Trading_System] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table cart_shopping_bags add constraint FKpg6xo0kjv4jwghggse5h83ixk foreign key (cart_id) references cart" via JDBC [Column 'cart.id' is not the same data type as referencing column 'cart_shopping_bags.cart_id' in foreign key 'FKpg6xo0kjv4jwghggse5h83ixk'.]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table cart_shopping_bags add constraint FKpg6xo0kjv4jwghggse5h83ixk foreign key (cart_id) references cart" via JDBC [Column 'cart.id' is not the same data type as referencing column 'cart_shopping_bags.cart_id' in foreign key 'FKpg6xo0kjv4jwghggse5h83ixk'.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.5.jar:3.2.5]
	at com.example.trading_system.TradingSystemApplication.main(TradingSystemApplication.java:17) ~[classes/:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Column 'cart.id' is not the same data type as referencing column 'cart_shopping_bags.cart_id' in foreign key 'FKpg6xo0kjv4jwghggse5h83ixk'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1676) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:907) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:802) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:775) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 37 common frames omitted

2024-07-14T08:54:02.294+03:00  WARN 25228 --- [Trading_System] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table ProductInSale add constraint FKaynolryrccybrqbxpa48gpcph foreign key (shopping_bag_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKaynolryrccybrqbxpa48gpcph' does not match those of the primary key in the referenced table 'shopping_bags'.]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table ProductInSale add constraint FKaynolryrccybrqbxpa48gpcph foreign key (shopping_bag_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKaynolryrccybrqbxpa48gpcph' does not match those of the primary key in the referenced table 'shopping_bags'.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.5.jar:3.2.5]
	at com.example.trading_system.TradingSystemApplication.main(TradingSystemApplication.java:17) ~[classes/:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The number of columns in the referencing column list for foreign key 'FKaynolryrccybrqbxpa48gpcph' does not match those of the primary key in the referenced table 'shopping_bags'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1676) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:907) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:802) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:775) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 37 common frames omitted

2024-07-14T08:54:02.405+03:00  INFO 25228 --- [Trading_System] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-14T08:54:02.689+03:00  WARN 25228 --- [Trading_System] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 58847e4c-7b88-465b-8d35-598c5bfa1178

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-07-14T08:54:02.857+03:00  INFO 25228 --- [Trading_System] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6757ed9e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77d5395a, org.springframework.security.web.context.SecurityContextHolderFilter@11303cb, org.springframework.security.web.header.HeaderWriterFilter@64001530, org.springframework.web.filter.CorsFilter@7b0eb7e, org.springframework.security.web.authentication.logout.LogoutFilter@1df6f57d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26e74d50, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bdc984, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2381a837, org.springframework.security.web.access.ExceptionTranslationFilter@219aab91, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69c27acb]
2024-07-14T08:54:03.028+03:00  INFO 25228 --- [Trading_System] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path ''
2024-07-14T08:54:03.030+03:00  INFO 25228 --- [Trading_System] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-07-14T08:54:03.030+03:00  INFO 25228 --- [Trading_System] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54fb9c08]]
2024-07-14T08:54:03.030+03:00  INFO 25228 --- [Trading_System] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-07-14T08:54:03.037+03:00  INFO 25228 --- [Trading_System] [main] c.e.t.TradingSystemApplication           : Started TradingSystemApplication in 4.908 seconds (process running for 5.411)
2024-07-14T08:55:03.014+03:00  INFO 25228 --- [Trading_System] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-07-14T09:02:07.227+03:00  INFO 24024 --- [Trading_System] [main] .t.A.M.GetPurchaseHistoryAcceptanceTests : Starting GetPurchaseHistoryAcceptanceTests using Java 22.0.1 with PID 24024 (started by lanaf in C:\Users\lanaf\Desktop\sadnafinal\trading_system)
2024-07-14T09:02:07.228+03:00  INFO 24024 --- [Trading_System] [main] .t.A.M.GetPurchaseHistoryAcceptanceTests : No active profile set, falling back to 1 default profile: "default"
2024-07-14T09:02:07.663+03:00  INFO 24024 --- [Trading_System] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-14T09:02:07.690+03:00  INFO 24024 --- [Trading_System] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.
2024-07-14T09:02:08.016+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.TradingSystemSpringConfiguration   : OpenCV is Loaded.
2024-07-14T09:02:08.338+03:00  INFO 24024 --- [Trading_System] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-14T09:02:08.401+03:00  INFO 24024 --- [Trading_System] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2024-07-14T09:02:08.439+03:00  INFO 24024 --- [Trading_System] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-14T09:02:08.791+03:00  INFO 24024 --- [Trading_System] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-14T09:02:08.826+03:00  INFO 24024 --- [Trading_System] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-07-14T09:02:09.145+03:00  INFO 24024 --- [Trading_System] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: c1f91525-3e49-468e-a1d9-4c1f155bf3f3
2024-07-14T09:02:09.147+03:00  INFO 24024 --- [Trading_System] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-07-14T09:02:10.701+03:00  INFO 24024 --- [Trading_System] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-14T09:02:11.628+03:00  WARN 24024 --- [Trading_System] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table cart_shopping_bags add constraint FKohpc1dsa51l2bwucc0f6il98l foreign key (shoppingBags_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKohpc1dsa51l2bwucc0f6il98l' does not match those of the primary key in the referenced table 'shopping_bags'.]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table cart_shopping_bags add constraint FKohpc1dsa51l2bwucc0f6il98l foreign key (shoppingBags_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKohpc1dsa51l2bwucc0f6il98l' does not match those of the primary key in the referenced table 'shopping_bags'.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163) ~[spring-test-6.1.6.jar:6.1.6]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:212) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:194) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:556) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:782) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The number of columns in the referencing column list for foreign key 'FKohpc1dsa51l2bwucc0f6il98l' does not match those of the primary key in the referenced table 'shopping_bags'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1676) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:907) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:802) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:775) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 114 common frames omitted

2024-07-14T09:02:11.699+03:00  WARN 24024 --- [Trading_System] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table ProductInSale add constraint FKaynolryrccybrqbxpa48gpcph foreign key (shopping_bag_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKaynolryrccybrqbxpa48gpcph' does not match those of the primary key in the referenced table 'shopping_bags'.]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table ProductInSale add constraint FKaynolryrccybrqbxpa48gpcph foreign key (shopping_bag_id) references shopping_bags" via JDBC [The number of columns in the referencing column list for foreign key 'FKaynolryrccybrqbxpa48gpcph' does not match those of the primary key in the referenced table 'shopping_bags'.]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.1.6.jar:6.1.6]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.2.5.jar:3.2.5]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.1.6.jar:6.1.6]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163) ~[spring-test-6.1.6.jar:6.1.6]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:212) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:194) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:556) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546) ~[na:na]
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:782) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.2.jar:5.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.2.jar:1.10.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:na]
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The number of columns in the referencing column list for foreign key 'FKaynolryrccybrqbxpa48gpcph' does not match those of the primary key in the referenced table 'shopping_bags'.
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1676) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:907) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:802) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:775) ~[mssql-jdbc-10.2.1.jre8.jar:na]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 114 common frames omitted

2024-07-14T09:02:11.836+03:00  INFO 24024 --- [Trading_System] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-14T09:02:12.280+03:00  WARN 24024 --- [Trading_System] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 9a937ff1-315c-4124-8bb5-a11e4ac92ed7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-07-14T09:02:12.570+03:00  INFO 24024 --- [Trading_System] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72d4d9ac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76b06e50, org.springframework.security.web.context.SecurityContextHolderFilter@5672920, org.springframework.security.web.header.HeaderWriterFilter@22120799, org.springframework.web.filter.CorsFilter@1d0ac379, org.springframework.security.web.authentication.logout.LogoutFilter@5f05cd7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@522db06e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21bf94d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66d8a602, org.springframework.security.web.access.ExceptionTranslationFilter@10e542f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1724c649]
2024-07-14T09:02:12.840+03:00  INFO 24024 --- [Trading_System] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-07-14T09:02:12.841+03:00  INFO 24024 --- [Trading_System] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@12f52ca4]]
2024-07-14T09:02:12.843+03:00  INFO 24024 --- [Trading_System] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-07-14T09:02:12.857+03:00  INFO 24024 --- [Trading_System] [main] .t.A.M.GetPurchaseHistoryAcceptanceTests : Started GetPurchaseHistoryAcceptanceTests in 5.957 seconds (process running for 7.42)
2024-07-14T09:02:13.648+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:14.266+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:14.269+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:14.336+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:14.337+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:14.337+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:14.391+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNCwiZXhwIjoxNzIwOTcyOTM0fQ.Pf9-5uPFQ1j8S3ELeDXjWRCYLWeVpUSUKRT_MPsY-A0 and username: v0
2024-07-14T09:02:14.398+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:14.399+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:14.470+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:14.486+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:14.487+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:14.490+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:14.490+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:14.492+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:14.522+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:14.522+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:14.530+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:14.530+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:14.530+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:14.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:14.534+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:14.535+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:14.536+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:14.537+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:14.537+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:14.538+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:14.539+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:14.542+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : rowner1 is Trying to get all history purchases from store store2
2024-07-14T09:02:14.546+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Store must exist , while rowner1 trying to get all history purchases from store : store2
2024-07-14T09:02:14.576+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:14.654+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:14.654+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:14.659+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:14.659+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:14.659+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:14.660+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNCwiZXhwIjoxNzIwOTcyOTM0fQ.Pf9-5uPFQ1j8S3ELeDXjWRCYLWeVpUSUKRT_MPsY-A0 and username: v0
2024-07-14T09:02:14.660+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:14.660+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:14.729+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:14.731+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:14.732+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:14.733+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:14.734+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:14.735+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:14.740+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:14.740+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:14.740+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:14.741+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:14.741+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:14.743+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:14.743+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:14.745+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:14.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:14.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:14.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:14.747+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:14.748+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:14.749+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Get Purchase History
2024-07-14T09:02:14.750+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Invalid token was supplied
2024-07-14T09:02:14.761+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:14.842+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:14.843+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:14.847+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:14.847+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:14.847+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:14.848+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNCwiZXhwIjoxNzIwOTcyOTM0fQ.Pf9-5uPFQ1j8S3ELeDXjWRCYLWeVpUSUKRT_MPsY-A0 and username: v0
2024-07-14T09:02:14.848+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:14.848+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:14.917+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:14.918+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:14.919+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:14.920+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:14.920+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:14.921+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:14.926+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:14.926+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:14.926+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:14.926+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:14.926+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:14.928+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:14.928+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:14.929+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:14.930+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:14.930+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:14.930+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:14.930+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:14.931+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:14.931+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:14.931+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:14.932+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNCwiZXhwIjoxNzIwOTcyOTM0fQ.VqVGjQB0oQqDzUJR_S50qrBxPV05_GgqNjR3ls_mptw and username: v1
2024-07-14T09:02:14.932+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Get Purchase History
2024-07-14T09:02:14.933+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Get Purchase History
2024-07-14T09:02:14.933+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : User is not commercial manager
2024-07-14T09:02:14.933+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while Getting Purchase History
2024-07-14T09:02:14.942+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:15.021+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:15.022+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:15.025+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:15.025+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:15.025+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:15.026+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNSwiZXhwIjoxNzIwOTcyOTM1fQ._e3o0bnXvkL6ZonwNShcnKiiKsIjgWjJTf2ZykegGUU and username: v0
2024-07-14T09:02:15.026+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:15.026+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:15.095+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:15.097+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:15.098+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:15.099+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:15.099+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:15.100+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:15.105+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:15.105+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:15.105+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:15.105+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:15.105+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.107+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.107+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.108+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.109+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:15.109+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:15.109+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.110+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.110+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:15.111+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : rowner1 is Trying to get all history purchases from store Store1
2024-07-14T09:02:15.116+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:15.117+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , while rowner1 trying to get all history purchases from store : Store1
2024-07-14T09:02:15.133+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:15.204+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:15.204+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:15.208+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:15.208+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:15.208+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:15.209+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNSwiZXhwIjoxNzIwOTcyOTM1fQ._e3o0bnXvkL6ZonwNShcnKiiKsIjgWjJTf2ZykegGUU and username: v0
2024-07-14T09:02:15.209+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:15.209+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:15.281+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:15.283+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:15.283+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:15.285+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:15.285+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:15.286+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:15.290+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:15.291+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:15.291+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:15.291+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:15.291+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.293+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.293+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.294+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.295+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:15.295+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:15.295+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.296+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.296+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:15.297+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Get Purchase History
2024-07-14T09:02:15.298+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Get Purchase History
2024-07-14T09:02:15.309+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:15.381+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:15.381+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:15.384+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:15.384+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:15.384+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:15.385+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNSwiZXhwIjoxNzIwOTcyOTM1fQ._e3o0bnXvkL6ZonwNShcnKiiKsIjgWjJTf2ZykegGUU and username: v0
2024-07-14T09:02:15.385+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:15.385+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:15.463+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:15.465+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:15.465+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:15.466+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:15.467+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:15.468+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:15.472+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:15.473+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:15.473+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:15.473+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:15.473+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.474+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.474+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.475+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.476+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:15.476+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:15.476+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.476+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.476+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:15.477+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Get Purchase History
2024-07-14T09:02:15.477+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Get Purchase History
2024-07-14T09:02:15.479+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Store store2 does not exist
2024-07-14T09:02:15.479+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while Getting Purchase History
2024-07-14T09:02:15.487+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:15.557+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:15.557+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:15.561+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:15.561+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:15.561+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:15.561+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNSwiZXhwIjoxNzIwOTcyOTM1fQ._e3o0bnXvkL6ZonwNShcnKiiKsIjgWjJTf2ZykegGUU and username: v0
2024-07-14T09:02:15.561+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:15.561+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:15.624+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:15.625+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:15.625+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:15.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:15.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:15.627+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:15.631+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:15.631+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:15.631+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:15.631+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:15.632+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.633+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.633+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.634+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.635+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:15.635+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:15.635+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.635+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.636+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:15.636+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:15.636+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:15.636+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNSwiZXhwIjoxNzIwOTcyOTM1fQ.oL9SoYWSN6XozM-gE5Flmb9-uoXJMfjWK_IRxjZ6fNQ and username: v1
2024-07-14T09:02:15.637+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : v1 is Trying to get all history purchases from store Store1
2024-07-14T09:02:15.638+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:15.638+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , while v1 trying to get all history purchases from store : Store1
2024-07-14T09:02:15.646+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:15.717+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:15.717+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:15.721+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:15.721+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:15.721+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:15.721+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNSwiZXhwIjoxNzIwOTcyOTM1fQ._e3o0bnXvkL6ZonwNShcnKiiKsIjgWjJTf2ZykegGUU and username: v0
2024-07-14T09:02:15.722+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:15.722+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:15.787+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:15.789+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:15.789+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to set address of user: rowner1
2024-07-14T09:02:15.790+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 set address to: 1234 Main Street, Springfield, IL, 62704-1234
2024-07-14T09:02:15.790+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:15.790+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:15.794+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:15.794+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:15.794+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:15.794+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:15.794+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.796+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : Store1 with product Id : 0 , product name : product1, product description :  , product price : 1.0 ,product quantity : 5 , rating : 1.0 , category : 1 , key words : [] 
2024-07-14T09:02:15.796+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.796+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying adding to cart  product with id: 0
2024-07-14T09:02:15.797+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Finished adding to cart product with id: 0
2024-07-14T09:02:15.797+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished adding to cart product with id: 0
2024-07-14T09:02:15.797+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.798+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Approving purchase for registered user with ID: rowner1 
2024-07-14T09:02:15.798+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error approving purchase for registered user with ID: rowner1, error: class org.hibernate.collection.spi.PersistentMap cannot be cast to class java.util.HashMap (org.hibernate.collection.spi.PersistentMap is in unnamed module of loader 'app'; java.util.HashMap is in module java.base of loader 'bootstrap')
2024-07-14T09:02:15.798+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to logout user: rowner1
2024-07-14T09:02:15.799+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to logout user: rowner1
2024-07-14T09:02:15.799+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: rowner1 logged out
2024-07-14T09:02:15.800+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: rowner1 logged out successfully
2024-07-14T09:02:15.800+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:15.800+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:15.800+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNSwiZXhwIjoxNzIwOTcyOTM1fQ.oL9SoYWSN6XozM-gE5Flmb9-uoXJMfjWK_IRxjZ6fNQ and username: v1
2024-07-14T09:02:15.800+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Get Purchase History
2024-07-14T09:02:15.801+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Get Purchase History
2024-07-14T09:02:15.801+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : User is not logged
2024-07-14T09:02:15.801+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while Getting Purchase History
2024-07-14T09:02:15.809+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.UnitTests.Market.SearchUnitTests]: SearchUnitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:15.840+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.UnitTests.Market.SearchUnitTests
2024-07-14T09:02:16.016+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : Store must exist: store1
2024-07-14T09:02:16.037+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No category provided
2024-07-14T09:02:16.048+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No category provided
2024-07-14T09:02:16.060+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : User does not exist
2024-07-14T09:02:16.070+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No name provided
2024-07-14T09:02:16.089+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : Store must exist: store1
2024-07-14T09:02:16.103+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No keywords provided
2024-07-14T09:02:16.115+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No name provided
2024-07-14T09:02:16.127+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No keywords provided
2024-07-14T09:02:16.139+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : User does not exist
2024-07-14T09:02:16.148+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.AcceptanceTests.Users.RoleTests.EditManagerPermissionsAcceptanceTests]: EditManagerPermissionsAcceptanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:16.171+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.AcceptanceTests.Users.RoleTests.EditManagerPermissionsAcceptanceTests
2024-07-14T09:02:16.177+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:16.253+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:16.254+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:16.258+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:16.258+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:16.258+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:16.259+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNiwiZXhwIjoxNzIwOTcyOTM2fQ.7B1HPCxOerrwry152uI8-k4EYEpthaP15_yXd6e2S-c and username: v0
2024-07-14T09:02:16.259+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:16.259+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:16.329+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:16.331+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:16.332+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:16.333+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:16.338+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:16.339+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:16.339+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:16.339+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:16.339+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:16.427+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:16.427+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : manager with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:16.427+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:16.427+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:16.428+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNiwiZXhwIjoxNzIwOTcyOTM2fQ.-RcYHs5m-ajywMG8OxscooGzIW8HDk1lQlSkITKmlFI and username: v1
2024-07-14T09:02:16.428+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: manager
2024-07-14T09:02:16.428+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: manager
2024-07-14T09:02:16.429+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: manager: No such user manager
2024-07-14T09:02:16.442+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:16.524+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:16.524+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:16.528+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:16.528+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:16.528+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:16.528+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNiwiZXhwIjoxNzIwOTcyOTM2fQ.7B1HPCxOerrwry152uI8-k4EYEpthaP15_yXd6e2S-c and username: v0
2024-07-14T09:02:16.529+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:16.529+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:16.596+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:16.598+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:16.598+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:16.599+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:16.604+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:16.604+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:16.605+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:16.605+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:16.605+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:16.676+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:16.677+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : manager with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:16.677+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:16.677+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:16.677+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNiwiZXhwIjoxNzIwOTcyOTM2fQ.-RcYHs5m-ajywMG8OxscooGzIW8HDk1lQlSkITKmlFI and username: v1
2024-07-14T09:02:16.677+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: manager
2024-07-14T09:02:16.678+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: manager
2024-07-14T09:02:16.680+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: manager: No such user manager
2024-07-14T09:02:16.688+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:16.774+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:16.775+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:16.777+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:16.777+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:16.777+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:16.778+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNiwiZXhwIjoxNzIwOTcyOTM2fQ.7B1HPCxOerrwry152uI8-k4EYEpthaP15_yXd6e2S-c and username: v0
2024-07-14T09:02:16.778+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:16.778+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:16.845+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:16.846+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:16.846+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:16.847+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:16.851+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:16.851+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:16.852+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:16.852+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:16.852+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:16.926+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:16.926+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : manager with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:16.926+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:16.926+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:16.927+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNiwiZXhwIjoxNzIwOTcyOTM2fQ.-RcYHs5m-ajywMG8OxscooGzIW8HDk1lQlSkITKmlFI and username: v1
2024-07-14T09:02:16.927+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: manager
2024-07-14T09:02:16.927+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: manager
2024-07-14T09:02:16.929+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: manager: No such user manager
2024-07-14T09:02:16.938+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.020+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:17.020+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:17.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:17.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:17.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.-wCDTY_TowrXw-3sZVgqpG1wedzp8_7IzpuSZAMp9uc and username: v0
2024-07-14T09:02:17.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:17.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:17.092+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:17.094+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:17.094+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:17.096+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:17.100+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:17.101+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:17.101+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:17.101+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:17.101+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.176+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.176+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : manager with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.176+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.176+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:17.177+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.7O0LS_EBIiRnBcgWwyY3eoensX_Bc8aW8T0m1gTu48k and username: v1
2024-07-14T09:02:17.177+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: manager
2024-07-14T09:02:17.177+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: manager
2024-07-14T09:02:17.178+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: manager: No such user manager
2024-07-14T09:02:17.186+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.266+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:17.266+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:17.269+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:17.269+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.269+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:17.269+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.-wCDTY_TowrXw-3sZVgqpG1wedzp8_7IzpuSZAMp9uc and username: v0
2024-07-14T09:02:17.270+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:17.270+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:17.344+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:17.346+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:17.346+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:17.347+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:17.352+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:17.352+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:17.352+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:17.352+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:17.352+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.433+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.434+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : manager with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.434+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.434+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:17.434+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.7O0LS_EBIiRnBcgWwyY3eoensX_Bc8aW8T0m1gTu48k and username: v1
2024-07-14T09:02:17.434+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: manager
2024-07-14T09:02:17.434+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: manager
2024-07-14T09:02:17.436+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: manager: No such user manager
2024-07-14T09:02:17.443+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.528+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:17.528+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:17.531+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:17.531+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.531+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:17.531+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.-wCDTY_TowrXw-3sZVgqpG1wedzp8_7IzpuSZAMp9uc and username: v0
2024-07-14T09:02:17.531+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:17.531+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:17.605+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:17.607+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:17.608+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:17.608+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:17.612+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:17.612+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:17.612+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:17.612+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:17.612+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.678+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.678+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : manager with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.678+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.678+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:17.679+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.7O0LS_EBIiRnBcgWwyY3eoensX_Bc8aW8T0m1gTu48k and username: v1
2024-07-14T09:02:17.679+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: manager
2024-07-14T09:02:17.679+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: manager
2024-07-14T09:02:17.680+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: manager: No such user manager
2024-07-14T09:02:17.686+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.755+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:17.755+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:17.759+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:17.759+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.759+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:17.759+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.-wCDTY_TowrXw-3sZVgqpG1wedzp8_7IzpuSZAMp9uc and username: v0
2024-07-14T09:02:17.760+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:17.760+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:17.826+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:17.827+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:17.827+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:17.828+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:17.831+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:17.831+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:17.831+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:17.831+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:17.831+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:17.894+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.894+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : manager with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:17.894+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:17.894+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:17.895+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzNywiZXhwIjoxNzIwOTcyOTM3fQ.7O0LS_EBIiRnBcgWwyY3eoensX_Bc8aW8T0m1gTu48k and username: v1
2024-07-14T09:02:17.895+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: manager
2024-07-14T09:02:17.895+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: manager
2024-07-14T09:02:17.896+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: manager: No such user manager
2024-07-14T09:02:17.904+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.UnitTests.Market.StockManagementUnitTests]: StockManagementUnitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:17.905+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.UnitTests.Market.StockManagementUnitTests
2024-07-14T09:02:18.072+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.AcceptanceTests.TradingSystemSetupAndEntry.ExitAcceptanceTests]: ExitAcceptanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:18.087+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.AcceptanceTests.TradingSystemSetupAndEntry.ExitAcceptanceTests
2024-07-14T09:02:18.093+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:18.171+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:18.171+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:18.176+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:18.176+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:18.176+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:18.176+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOCwiZXhwIjoxNzIwOTcyOTM4fQ.QjzmpvgJfldvwZdLh59R0VXPooa2ETv9dninm6U0PWM and username: v0
2024-07-14T09:02:18.177+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:18.177+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:18.246+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:18.247+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:18.248+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to exit user: owner1
2024-07-14T09:02:18.249+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Invalid token was supplied
2024-07-14T09:02:18.254+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:18.322+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:18.322+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:18.325+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:18.325+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:18.325+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:18.325+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOCwiZXhwIjoxNzIwOTcyOTM4fQ.QjzmpvgJfldvwZdLh59R0VXPooa2ETv9dninm6U0PWM and username: v0
2024-07-14T09:02:18.326+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:18.326+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:18.391+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:18.392+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:18.393+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:18.393+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:18.393+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzOCwiZXhwIjoxNzIwOTcyOTM4fQ.atlhSMVmFvfESZCjOH0vM7pWCZvtRNOx2l5TlauFabY and username: v1
2024-07-14T09:02:18.393+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to exit user: v1
2024-07-14T09:02:18.394+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying exit to system as a user , with username: v1
2024-07-14T09:02:18.395+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User exited successfully: v1
2024-07-14T09:02:18.401+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:18.482+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:18.483+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:18.488+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:18.488+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:18.488+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:18.488+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOCwiZXhwIjoxNzIwOTcyOTM4fQ.QjzmpvgJfldvwZdLh59R0VXPooa2ETv9dninm6U0PWM and username: v0
2024-07-14T09:02:18.488+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:18.488+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:18.558+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:18.560+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:18.560+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to exit user: nonExistentUser
2024-07-14T09:02:18.561+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Invalid token was supplied
2024-07-14T09:02:18.567+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:18.647+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:18.647+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:18.651+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:18.651+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:18.651+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:18.651+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOCwiZXhwIjoxNzIwOTcyOTM4fQ.QjzmpvgJfldvwZdLh59R0VXPooa2ETv9dninm6U0PWM and username: v0
2024-07-14T09:02:18.652+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:18.652+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:18.723+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:18.724+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:18.725+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:18.725+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:18.725+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjkzOCwiZXhwIjoxNzIwOTcyOTM4fQ.atlhSMVmFvfESZCjOH0vM7pWCZvtRNOx2l5TlauFabY and username: v1
2024-07-14T09:02:18.725+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to close system
2024-07-14T09:02:18.726+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System closed by user: rowner1
2024-07-14T09:02:18.726+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to exit user: owner1
2024-07-14T09:02:18.726+03:00  WARN 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System is not open
2024-07-14T09:02:18.730+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.UnitTests.Service.OpenSystemUnitTests]: OpenSystemUnitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:18.738+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.UnitTests.Service.OpenSystemUnitTests
2024-07-14T09:02:18.839+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:18.841+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:18.856+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:18.856+03:00  WARN 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System cannot be opened without at least one admin registered
2024-07-14T09:02:18.860+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.AcceptanceTests.Market.ProductTests.SearchProductStoresAcceptanceTests]: SearchProductStoresAcceptanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:18.872+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.AcceptanceTests.Market.ProductTests.SearchProductStoresAcceptanceTests
2024-07-14T09:02:18.876+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:18.948+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:18.948+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.020+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : manager with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.021+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:19.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:19.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:19.024+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:19.025+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOSwiZXhwIjoxNzIwOTcyOTM5fQ.g2U2YlMvgXjAmgRHT1r5xDrcGJv4LeAWRJvQxqquDEM and username: v0
2024-07-14T09:02:19.025+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:19.025+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:19.093+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:19.094+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:19.095+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: store1
2024-07-14T09:02:19.095+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: store1
2024-07-14T09:02:19.099+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:19.099+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:19.099+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:19.099+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: store1
2024-07-14T09:02:19.099+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : store1 with product Id : 1 , product name : product1, product description : desc1 , product price : 10.0 ,product quantity : 100 , rating : 4.0 , category : 1 , key words : keyword 
2024-07-14T09:02:19.100+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : store1 with product Id : 1 , product name : product1, product description : desc1 , product price : 10.0 ,product quantity : 100 , rating : 4.0 , category : 1 , key words : keyword 
2024-07-14T09:02:19.101+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in stores with keyWords,  : keyword
2024-07-14T09:02:19.102+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:19.102+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , to search products in stores with keyWords: keyword
2024-07-14T09:02:19.110+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.187+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.188+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.268+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : manager with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.269+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:19.270+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:19.270+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:19.270+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:19.271+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOSwiZXhwIjoxNzIwOTcyOTM5fQ.g2U2YlMvgXjAmgRHT1r5xDrcGJv4LeAWRJvQxqquDEM and username: v0
2024-07-14T09:02:19.271+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:19.271+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:19.333+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:19.334+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:19.334+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: store1
2024-07-14T09:02:19.335+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: store1
2024-07-14T09:02:19.338+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:19.339+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:19.339+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:19.339+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: store1
2024-07-14T09:02:19.339+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : store1 with product Id : 1 , product name : product1, product description : desc1 , product price : 10.0 ,product quantity : 100 , rating : 4.0 , category : 1 , key words :  
2024-07-14T09:02:19.340+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : store1 with product Id : 1 , product name : product1, product description : desc1 , product price : 10.0 ,product quantity : 100 , rating : 4.0 , category : 1 , key words :  
2024-07-14T09:02:19.340+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in stores with name : product1
2024-07-14T09:02:19.341+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:19.341+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs), to search products in stores: product1
2024-07-14T09:02:19.348+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.415+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.416+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.492+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : manager with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.492+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:19.494+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:19.494+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:19.494+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:19.494+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOSwiZXhwIjoxNzIwOTcyOTM5fQ.g2U2YlMvgXjAmgRHT1r5xDrcGJv4LeAWRJvQxqquDEM and username: v0
2024-07-14T09:02:19.495+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:19.495+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:19.559+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:19.560+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:19.560+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in stores with keyWords,  : null
2024-07-14T09:02:19.560+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No keywords provided
2024-07-14T09:02:19.561+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : No keywords provided , to search products in stores with keyWords: null
2024-07-14T09:02:19.566+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.641+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.641+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.716+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : manager with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.716+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:19.719+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:19.719+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:19.719+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:19.720+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOSwiZXhwIjoxNzIwOTcyOTM5fQ.g2U2YlMvgXjAmgRHT1r5xDrcGJv4LeAWRJvQxqquDEM and username: v0
2024-07-14T09:02:19.720+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:19.720+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:19.799+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:19.801+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:19.802+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in stores with category, : -1
2024-07-14T09:02:19.802+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No category provided
2024-07-14T09:02:19.803+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : No category provided, to search products in stores with category: -1
2024-07-14T09:02:19.808+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.885+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.885+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:19.958+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : manager with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:19.958+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:19.961+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:19.961+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:19.962+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:19.963+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjkzOSwiZXhwIjoxNzIwOTcyOTM5fQ.g2U2YlMvgXjAmgRHT1r5xDrcGJv4LeAWRJvQxqquDEM and username: v0
2024-07-14T09:02:19.963+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:19.963+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:20.027+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:20.028+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:20.029+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in stores with name : null
2024-07-14T09:02:20.029+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : No name provided
2024-07-14T09:02:20.029+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : No name provided, to search products in stores: null
2024-07-14T09:02:20.035+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:20.102+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:20.102+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: manager with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:20.173+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : manager with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:20.173+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:20.175+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:20.175+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:20.175+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:20.175+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MCwiZXhwIjoxNzIwOTcyOTQwfQ.A2OeiBBNKSfmYErRq3m0iHnH6hdbyHc2okj-xSyKO3s and username: v0
2024-07-14T09:02:20.175+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner1
2024-07-14T09:02:20.175+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner1
2024-07-14T09:02:20.240+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: owner1 logged in
2024-07-14T09:02:20.241+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: owner1 logged in successfully
2024-07-14T09:02:20.242+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: store1
2024-07-14T09:02:20.242+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: store1
2024-07-14T09:02:20.245+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:20.245+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:20.246+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:20.246+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: store1
2024-07-14T09:02:20.246+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 is trying to add products to store : store1 with product Id : 1 , product name : product1, product description : desc1 , product price : 10.0 ,product quantity : 100 , rating : 4.0 , category : 1 , key words :  
2024-07-14T09:02:20.246+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User rowner1 finished to add products to store : store1 with product Id : 1 , product name : product1, product description : desc1 , product price : 10.0 ,product quantity : 100 , rating : 4.0 , category : 1 , key words :  
2024-07-14T09:02:20.246+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in stores with category, : 1
2024-07-14T09:02:20.247+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:20.247+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs), to search products in stores with category: 1
2024-07-14T09:02:20.282+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.AcceptanceTests.Market.ProductTests.RemoveProductAcceptanceTests]: RemoveProductAcceptanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:20.284+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.AcceptanceTests.Market.ProductTests.RemoveProductAcceptanceTests
2024-07-14T09:02:20.290+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:20.363+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:20.363+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:20.366+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:20.366+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:20.366+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:20.366+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MCwiZXhwIjoxNzIwOTcyOTQwfQ.A2OeiBBNKSfmYErRq3m0iHnH6hdbyHc2okj-xSyKO3s and username: v0
2024-07-14T09:02:20.367+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:20.367+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:20.443+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:20.445+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:20.445+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:20.446+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:20.450+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:20.450+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:20.450+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:20.450+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:20.450+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.451+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.452+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:20.452+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : admin with password : 123456 and birthdate : 2024-07-14 : username already exists - admin
2024-07-14T09:02:20.452+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:20.453+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:20.453+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while opening the system: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:20.453+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:20.453+03:00  WARN 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System is not open, entry forbidden
2024-07-14T09:02:20.459+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:20.529+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:20.529+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:20.532+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:20.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:20.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:20.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MCwiZXhwIjoxNzIwOTcyOTQwfQ.A2OeiBBNKSfmYErRq3m0iHnH6hdbyHc2okj-xSyKO3s and username: v0
2024-07-14T09:02:20.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:20.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:20.594+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:20.595+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:20.595+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:20.596+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:20.599+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:20.599+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:20.599+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:20.599+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:20.599+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.600+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.601+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: managerWithPermissions with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:20.669+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:20.669+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : managerWithPermissions with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:20.669+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:20.669+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:20.669+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjk0MCwiZXhwIjoxNzIwOTcyOTQwfQ.z1u3-q5J7CYLS3tu7WnDtOQTDHynGH_Orm2jiYHheXg and username: v1
2024-07-14T09:02:20.669+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: managerWithPermissions
2024-07-14T09:02:20.669+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: managerWithPermissions
2024-07-14T09:02:20.671+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: managerWithPermissions: No such user managerWithPermissions
2024-07-14T09:02:20.676+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:20.741+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:20.742+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:20.745+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:20.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:20.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:20.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MCwiZXhwIjoxNzIwOTcyOTQwfQ.A2OeiBBNKSfmYErRq3m0iHnH6hdbyHc2okj-xSyKO3s and username: v0
2024-07-14T09:02:20.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:20.746+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:20.814+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:20.815+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:20.815+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:20.815+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:20.819+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:20.819+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:20.819+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:20.819+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:20.820+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.821+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.821+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to remove product with Id : 222 to store : Store1 
2024-07-14T09:02:20.822+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while removing product with id: 222 from store: Store1: Product must exist
2024-07-14T09:02:20.827+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:20.897+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:20.897+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:20.901+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:20.901+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:20.901+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:20.901+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MCwiZXhwIjoxNzIwOTcyOTQwfQ.A2OeiBBNKSfmYErRq3m0iHnH6hdbyHc2okj-xSyKO3s and username: v0
2024-07-14T09:02:20.901+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:20.901+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:20.970+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:20.971+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:20.971+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:20.971+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:20.975+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:20.975+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:20.976+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:20.976+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:20.976+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.976+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:20.977+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to remove product with Id : 111 to store : BadStoreName 
2024-07-14T09:02:20.979+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : Store must exist: BadStoreName
2024-07-14T09:02:20.979+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while removing product with id: 111 from store: BadStoreName: Store must exist
2024-07-14T09:02:20.984+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:21.050+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:21.051+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:21.053+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:21.053+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:21.053+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:21.054+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MSwiZXhwIjoxNzIwOTcyOTQxfQ.stOXvfF95Pr_ny6JTwhdKLXslgjBcpl1Z5RlvRHCUww and username: v0
2024-07-14T09:02:21.054+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:21.054+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:21.120+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:21.120+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:21.121+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:21.121+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:21.126+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:21.126+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:21.126+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:21.126+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:21.126+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:21.127+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:21.128+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: regularUser with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:21.193+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:21.193+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : regularUser with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:21.193+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:21.193+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:21.193+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjk0MSwiZXhwIjoxNzIwOTcyOTQxfQ.p8w-PWsMvYr0m0ahgisbhNNesM1eYPDbzywtp_uiLcA and username: v1
2024-07-14T09:02:21.193+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: regularUser
2024-07-14T09:02:21.193+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: regularUser
2024-07-14T09:02:21.195+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: regularUser: No such user regularUser
2024-07-14T09:02:21.200+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:21.273+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:21.273+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:21.275+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:21.276+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:21.276+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:21.276+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MSwiZXhwIjoxNzIwOTcyOTQxfQ.stOXvfF95Pr_ny6JTwhdKLXslgjBcpl1Z5RlvRHCUww and username: v0
2024-07-14T09:02:21.276+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:21.276+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:21.339+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:21.340+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:21.340+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:21.340+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:21.344+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:21.345+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:21.345+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:21.345+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:21.345+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:21.346+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : Product1, product description : ProductDescription , product price : 10.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:21.346+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to remove product with Id : 111 to store : Store1 
2024-07-14T09:02:21.346+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to remove product with Id :111 to store : Store1 
2024-07-14T09:02:21.350+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.AcceptanceTests.TradingSystemSetupAndEntry.RegistrationAcceptanceTests]: RegistrationAcceptanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:21.351+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.AcceptanceTests.TradingSystemSetupAndEntry.RegistrationAcceptanceTests
2024-07-14T09:02:21.356+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:21.423+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:21.430+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:21.495+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : owner1 with password : password123 and birthdate : 2024-07-14
2024-07-14T09:02:21.496+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner1 with password : password123 and birthdate : 2024-07-14 
2024-07-14T09:02:21.496+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : owner1 with password : password123 and birthdate : 2024-07-14 : username already exists - owner1
2024-07-14T09:02:22.378+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.AcceptanceTests.Users.StoreCreationTests.OpenStoreExistAcceptanceTests]: OpenStoreExistAcceptanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:22.392+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.AcceptanceTests.Users.StoreCreationTests.OpenStoreExistAcceptanceTests
2024-07-14T09:02:22.397+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:22.465+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:22.465+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:22.468+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:22.468+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:22.468+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:22.468+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MiwiZXhwIjoxNzIwOTcyOTQyfQ.NnKpQYnf-agXGQfW2HelADi6GXNFbb1Lh7ApeblnUCM and username: v0
2024-07-14T09:02:22.468+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:22.468+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:22.531+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:22.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:22.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:22.533+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:22.536+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:22.536+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:22.536+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:22.536+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:22.536+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:22.538+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:22.538+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Close Store Exist : Store1
2024-07-14T09:02:22.539+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:22.539+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , when radmin trying to close store exist : Store1
2024-07-14T09:02:22.539+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Open Store Exist : Store2
2024-07-14T09:02:22.540+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : Store must exist: Store2
2024-07-14T09:02:22.540+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Store must exist, when radmin trying to open store exist : Store2
2024-07-14T09:02:22.544+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:22.615+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:22.615+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:22.617+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:22.617+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:22.617+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:22.617+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MiwiZXhwIjoxNzIwOTcyOTQyfQ.NnKpQYnf-agXGQfW2HelADi6GXNFbb1Lh7ApeblnUCM and username: v0
2024-07-14T09:02:22.618+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:22.618+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:22.680+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:22.681+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:22.681+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:22.682+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:22.685+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:22.685+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:22.685+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:22.685+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:22.685+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:22.686+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:22.686+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Close Store Exist : Store1
2024-07-14T09:02:22.687+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:22.687+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , when radmin trying to close store exist : Store1
2024-07-14T09:02:22.687+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Open Store Exist : Store1
2024-07-14T09:02:22.703+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished open store exist successfully
2024-07-14T09:02:22.703+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Open Store Exist : Store1
2024-07-14T09:02:22.704+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Store is already active, when radmin trying to open store exist : Store1
2024-07-14T09:02:22.708+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:22.776+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:22.776+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:22.779+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:22.779+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:22.779+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:22.779+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MiwiZXhwIjoxNzIwOTcyOTQyfQ.NnKpQYnf-agXGQfW2HelADi6GXNFbb1Lh7ApeblnUCM and username: v0
2024-07-14T09:02:22.779+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:22.779+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:22.848+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:22.849+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:22.850+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:22.850+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:22.853+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:22.853+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:22.854+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:22.854+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:22.854+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:22.855+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:22.855+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Close Store Exist : Store1
2024-07-14T09:02:22.857+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:22.857+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , when radmin trying to close store exist : Store1
2024-07-14T09:02:22.857+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:22.926+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:22.926+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : owner with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:22.926+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:22.926+03:00  WARN 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System attempted to open twice
2024-07-14T09:02:22.926+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:22.926+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:22.926+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjk0MiwiZXhwIjoxNzIwOTcyOTQyfQ.mhCq9IWo5Y93snxu_47fUhfiE1Ny_-N25JgvpuGW1LA and username: v1
2024-07-14T09:02:22.927+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner
2024-07-14T09:02:22.927+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner
2024-07-14T09:02:22.928+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: owner: No such user owner
2024-07-14T09:02:22.932+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:23.002+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:23.002+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:23.005+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:23.006+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:23.006+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:23.006+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MywiZXhwIjoxNzIwOTcyOTQzfQ.ajRi4F2FIErIe326Sj1ilBGyWF8WDh-4Sxzc0EHfxQM and username: v0
2024-07-14T09:02:23.006+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:23.006+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:23.074+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:23.075+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:23.075+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:23.075+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:23.078+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:23.079+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:23.079+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:23.079+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:23.079+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.080+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.080+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Close Store Exist : Store1
2024-07-14T09:02:23.081+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:23.081+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , when radmin trying to close store exist : Store1
2024-07-14T09:02:23.081+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in store : Store1 with name : CarPlay
2024-07-14T09:02:23.081+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : Store is not open, can't search
2024-07-14T09:02:23.082+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Store is not open, can't search, to search products in store: Store1 with name : CarPlay
2024-07-14T09:02:23.082+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Open Store Exist : Store1
2024-07-14T09:02:23.083+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished open store exist successfully
2024-07-14T09:02:23.083+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to search products in store : Store1 with name : CarPlay
2024-07-14T09:02:23.097+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished Searching products in store
2024-07-14T09:02:23.104+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.UnitTests.Users.OpenStoreUnitTests]: OpenStoreUnitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:23.119+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.UnitTests.Users.OpenStoreUnitTests
2024-07-14T09:02:23.168+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : While opening store - User not found
2024-07-14T09:02:23.173+03:00  INFO 24024 --- [Trading_System] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.trading_system.AcceptanceTests.Users.StoreCreationTests.CloseStoreExistAcceptanceTests]: CloseStoreExistAcceptanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-14T09:02:23.174+03:00  INFO 24024 --- [Trading_System] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.trading_system.TradingSystemApplication for test class com.example.trading_system.AcceptanceTests.Users.StoreCreationTests.CloseStoreExistAcceptanceTests
2024-07-14T09:02:23.178+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:23.254+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:23.254+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:23.257+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:23.257+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:23.257+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:23.257+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MywiZXhwIjoxNzIwOTcyOTQzfQ.ajRi4F2FIErIe326Sj1ilBGyWF8WDh-4Sxzc0EHfxQM and username: v0
2024-07-14T09:02:23.257+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:23.257+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:23.321+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:23.323+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:23.323+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:23.323+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:23.327+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:23.327+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:23.327+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:23.327+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:23.327+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.328+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.328+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Close Store Exist : Store1
2024-07-14T09:02:23.331+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:23.331+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs) , when radmin trying to close store exist : Store1
2024-07-14T09:02:23.332+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Open Store Exist : Store1
2024-07-14T09:02:23.334+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Finished open store exist successfully
2024-07-14T09:02:23.339+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:23.410+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:23.410+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:23.413+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:23.413+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:23.413+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:23.413+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MywiZXhwIjoxNzIwOTcyOTQzfQ.ajRi4F2FIErIe326Sj1ilBGyWF8WDh-4Sxzc0EHfxQM and username: v0
2024-07-14T09:02:23.414+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:23.414+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:23.476+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:23.477+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:23.477+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:23.478+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:23.481+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:23.481+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:23.481+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:23.481+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:23.481+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.482+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.482+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: owner with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:23.550+03:00 ERROR 24024 --- [Trading_System] [main] org.hibernate.AssertionFailure           : HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:23.550+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while registering user : owner with password : 123456 and birthdate : 2024-07-14 : null id in com.example.trading_system.domain.users.Role entry (don't flush the Session after an exception occurs)
2024-07-14T09:02:23.550+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:23.550+03:00  WARN 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System attempted to open twice
2024-07-14T09:02:23.550+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:23.550+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 1
2024-07-14T09:02:23.551+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MSIsImlhdCI6MTcyMDkzNjk0MywiZXhwIjoxNzIwOTcyOTQzfQ.cMbLKMC2x87XOwR3WT490MtTwgbnOEpOD5ZLLylNPCA and username: v1
2024-07-14T09:02:23.551+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: owner
2024-07-14T09:02:23.551+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: owner
2024-07-14T09:02:23.552+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred while logging in user: owner: No such user owner
2024-07-14T09:02:23.552+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Open Store Exist : Store1
2024-07-14T09:02:23.553+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Store is already active, when radmin trying to open store exist : Store1
2024-07-14T09:02:23.558+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:23.623+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User registered successfully : admin with password : 123456 and birthdate : 2024-07-14
2024-07-14T09:02:23.623+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to open system
2024-07-14T09:02:23.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : System opened successfully
2024-07-14T09:02:23.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to enter system
2024-07-14T09:02:23.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying to enter the system as a visitor, with id: 0
2024-07-14T09:02:23.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User entered successfully with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2MCIsImlhdCI6MTcyMDkzNjk0MywiZXhwIjoxNzIwOTcyOTQzfQ.ajRi4F2FIErIe326Sj1ilBGyWF8WDh-4Sxzc0EHfxQM and username: v0
2024-07-14T09:02:23.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to login user: admin
2024-07-14T09:02:23.626+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying to login user: admin
2024-07-14T09:02:23.692+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : User: admin logged in
2024-07-14T09:02:23.694+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User: admin logged in successfully
2024-07-14T09:02:23.694+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Trying opening store with name: Store1
2024-07-14T09:02:23.695+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.UserServiceImp             : Trying opening store with name: Store1
2024-07-14T09:02:23.699+03:00  WARN 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 515, SQLState: 23000
2024-07-14T09:02:23.699+03:00 ERROR 24024 --- [Trading_System] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.
2024-07-14T09:02:23.699+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.users.UserFacadeImp         : Failed to open store: could not execute statement [Cannot insert the value NULL into column 'isActive', table 'tradingSystem .dbo.stores'; column does not allow nulls. INSERT fails.] [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; SQL [insert into stores (description,founder,ActivtionStatus,openingStatus,sales_history_id,rating,name_id) values (?,?,?,?,?,?,?)]; constraint [null]
2024-07-14T09:02:23.699+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Failed to open store , Failed opening store with name: Store1
2024-07-14T09:02:23.699+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin is trying to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.700+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : User radmin finished to add products to store : Store1 with product Id : 111 , product name : CarPlay, product description : CarPlay for iPhones , product price : 15.0 ,product quantity : 5 , rating : 6.0 , category : 1 , key words : ["CarPlay", "iPhone"] 
2024-07-14T09:02:23.700+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Close Store Exist : Store2
2024-07-14T09:02:23.702+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.domain.stores.MarketFacadeImp      : Store must exist: Store2
2024-07-14T09:02:23.702+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Store must exist , when radmin trying to close store exist : Store2
2024-07-14T09:02:23.703+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : radmin Trying to Open Store Exist : Store1
2024-07-14T09:02:23.704+03:00 ERROR 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Error occurred : Store is already active, when radmin trying to open store exist : Store1
2024-07-14T09:02:23.710+03:00  INFO 24024 --- [Trading_System] [main] c.e.t.service.TradingSystemImp           : Attempting to register user: admin with password : 123456 and birthdate : 2024-07-14 
2024-07-14T09:02:23.729+03:00  INFO 24024 --- [Trading_System] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-07-14T09:02:23.730+03:00  INFO 24024 --- [Trading_System] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@12f52ca4]]
2024-07-14T09:02:23.730+03:00  INFO 24024 --- [Trading_System] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-07-14T09:02:23.733+03:00  INFO 24024 --- [Trading_System] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-14T09:02:23.734+03:00  INFO 24024 --- [Trading_System] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-07-14T09:02:23.738+03:00  INFO 24024 --- [Trading_System] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
